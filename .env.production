# ============================================================================
# PRODUCTION ENVIRONMENT CONFIGURATION
# ============================================================================
# Copy this file to .env and fill in your production values
# Security: Keep this file secure and never commit it to version control
# ============================================================================

# ============================================================================
# OpenAI Configuration
# ============================================================================
OPENAI_API_KEY=your_openai_api_key_here
OPENAI_MODEL=gpt-4o-mini
OPENAI_TEMPERATURE=0.5

# ============================================================================
# Pinecone Vector Database Configuration
# ============================================================================
PINECONE_API_KEY=your_pinecone_api_key_here
PINECONE_ENVIRONMENT=us-east-1
PINECONE_INDEX_NAME=multimodal-rag
PINECONE_DIMENSION=3072
PINECONE_METRIC=cosine

# ============================================================================
# Application Settings
# ============================================================================
APP_NAME=Multi-modal RAG API
APP_VERSION=1.0.0
API_V1_PREFIX=/api/v1

# ============================================================================
# PDF Processing Configuration
# ============================================================================
PDF_UPLOAD_DIR=./content
PDF_MAX_FILE_SIZE=10485760
PDF_CHUNKING_STRATEGY=by_title
PDF_MAX_CHARACTERS=10000
PDF_COMBINE_TEXT_UNDER_N_CHARS=2000
PDF_NEW_AFTER_N_CHARS=6000
PDF_RETENTION_DAYS=7

# ============================================================================
# Cloudflare R2 Storage Configuration
# ============================================================================
# Get these from Cloudflare Dashboard > R2 > Manage R2 API Tokens
R2_ACCOUNT_ID=your_r2_account_id_here
R2_ACCESS_KEY_ID=your_r2_access_key_id_here
R2_SECRET_ACCESS_KEY=your_r2_secret_access_key_here
R2_BUCKET_NAME=chatbot-pdfs

# ============================================================================
# RAG Configuration
# ============================================================================
RAG_TOP_K=4
RAG_BATCH_CONCURRENCY=1

# ============================================================================
# Redis Configuration (for persistent docstore and chat memory)
# ============================================================================
# If using aaPanel, Redis should be installed via App Store
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=

# ============================================================================
# Chat Memory Configuration
# ============================================================================
CHAT_HISTORY_TTL=7200
CHAT_MAX_MESSAGES=10

# ============================================================================
# PostgreSQL Database Configuration
# ============================================================================
# Format: postgresql+asyncpg://username:password@host:port/database
# If using aaPanel, create database via Database Manager
DATABASE_URL=postgresql+asyncpg://chatbot_user:secure_password_here@localhost:5432/chatbot_db

# ============================================================================
# JWT Authentication Configuration
# ============================================================================
# Generate with: openssl rand -hex 32
JWT_SECRET_KEY=your_secure_jwt_secret_key_here_min_32_chars
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30

# ============================================================================
# CORS Configuration
# ============================================================================
# Add your frontend domain(s) here, comma-separated
CORS_ORIGINS=https://yourdomain.com,https://www.yourdomain.com
CORS_ALLOW_CREDENTIALS=true

# ============================================================================
# Rate Limiting Configuration
# ============================================================================
# Format: "number/unit" where unit can be: second, minute, hour, day
RATE_LIMIT_LOGIN=5/minute
RATE_LIMIT_REGISTER=3/hour
RATE_LIMIT_QUERY=20/minute
RATE_LIMIT_UPLOAD=5/hour
RATE_LIMIT_API_KEY_CREATE=10/hour
RATE_LIMIT_API_KEY_LIST=30/minute
RATE_LIMIT_API_KEY_DELETE=10/minute
RATE_LIMIT_CHAT_HISTORY=30/minute
RATE_LIMIT_DEFAULT=100/minute
<<<<<<< HEAD
=======
RATE_LIMIT_STORAGE_DB=1
# RATE_LIMIT_STORAGE_URI=redis://:password@redis-host:6379/1
>>>>>>> bb677be (feat : update logging error)

# ============================================================================
# API Documentation Configuration
# ============================================================================
# SECURITY: Disable docs in production or protect with authentication
ENABLE_DOCS=false
ENABLE_REDOC=false

# ============================================================================
# Server Configuration (Production)
# ============================================================================
SERVER_HOST=0.0.0.0
SERVER_PORT=8000
SERVER_RELOAD=false
SERVER_LOG_LEVEL=info

# ============================================================================
# LangSmith (Optional - for debugging/tracing)
# ============================================================================
# Uncomment if you want to use LangSmith for monitoring
# LANGCHAIN_API_KEY=your_langsmith_api_key_here
# LANGCHAIN_TRACING_V2=true
# LANGCHAIN_PROJECT=multimodal-rag-production
